<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <!-- Other head content -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous"
  />
  <link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  crossorigin="anonymous"
/>

<link
href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
rel="stylesheet"
/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/fontawesome.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/gallery.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/addtocart.css') }}">



  <!-- Font Awesome CSS (only one instance) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
  />
  
  <!-- Optional Font Awesome CSS versions (retain only if needed) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.css"
  />

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">


  
</head>
<body>


    <nav class="navbar navbar-expand-lg">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
            <span class="navbar-toggler-icon"></span>
   >
    </a>     </button>
    <div class="logo" style="position: relative;">
      <!-- Logo Link -->
      <a href="/index" class="logo-link" style="background-color: transparent; padding: 3px;">
          <!-- Replace the text-based logo with the GIGO.PNG image -->
          <img src="{{ url_for('static', filename='SPAPHOTOS/GIGO.PNG') }}" alt="GIGO Logo" style="max-width: 700px; height: auto;"/>
      </a>
  </div>
  
  
      <!-- About Us Notification (Initially Hidden) -->
      <div class="about-us-notification">
          <p>We are a leading provider of tech solutions, specializing in printing, graphic design, and more.</p>
      </div>
  </div>
        </div>
        <div class="navbar-nav">
          <a class="nav-item nav-link" id="homelinkbase" href="/index">Home</a>
          <a class="nav-item nav-link" id="services-link" href="/services">Services</a>
  
          <a class="nav-item nav-link" id="addtocartid" href="/products">Products</a>
          <a class="nav-item nav-link" id="about-us" href="/aboutus">About Us</a>
          
            <a href="https://facebook.com" target="_blank" >
              <i class="fab fa-facebook"></i>
          </a>
          <a href="https://twitter.com" target="_blank" style=" margin-left: 8px;">
              <i class="fab fa-twitter"></i>
          </a>
          <a href="https://instagram.com" target="_blank" style=" margin-left: 8px;">
              <i class="fab fa-instagram"></i>
          </a>
            {% if current_user.is_authenticated %}
                <a class="nav-item nav-link" id="logout" href="/logout">Logout</a>
                <a class="nav-item nav-link" id="admin" href="/btadmin">Back to Admin</a>
                {% if request.path == '/loandata' %}
                    <div class="text-center">
                        <a class="btn btn-danger btn-lg" href="#home_relocationblog" role="button"
                           style="width: 100%; height: max-content; background-color: goldenrod; color: darkblue; text-align: center; padding: 5px; border: none; border-radius: 5px; text-decoration: none; font-weight: bold;">
                           <i class="bi bi-file-earmark"></i> Add Repayment
                        </a>
                    </div>
                {% endif %}
            {% else %}
                <a class="nav-item nav-link" id="signUp" href="#" data-toggle="modal" data-target="#signupModal">Sign Up</a>
                
                <a class="nav-item nav-link" id="login" href="#" data-toggle="modal" data-target="#loginModal">
                  <span class="grey-t">t</span><span class="bold-x">X</span>
              </a>
            {% endif %}
            <div class="cart" onclick="toggleCartModal()">
                <i class="fa-solid fa-cart-shopping"></i>
                <p id="count">0</p>
            </div>
        </div>
       
    </nav>
    
  
    <div class="flashmessage">
        {% if current_user.is_authenticated %}
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="messages-container">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                {{ message }}
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
        {% endif %}
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const alerts = document.querySelectorAll('.alert');
    
            if (alerts.length) {
                // Automatically hide the first alert after 5 seconds
                setTimeout(function () {
                    const firstAlert = alerts[0];
    
                    // Smooth fade out by removing the 'show' class and adding the 'fade' class
                    firstAlert.classList.remove('show');
                    firstAlert.classList.add('fade');
    
                    // Remove alert element after the fade-out completes (500ms)
                    setTimeout(() => firstAlert.remove(), 500);
                }, 5000);  // Adjust delay as per your needs (5000ms = 5 seconds)
            }
        });
    </script>
    
    <style>

        /* Cart Icon Initial Styles */
.cart {
    position: relative;
    cursor: pointer;
    transition: all 0.3s ease; /* Smooth transition for moving */
}

/* Notification Styles */
#notification {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Center the notification */
    padding: 20px;
    background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent background */
    color: white;
    font-size: 18px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    z-index: 1002;
    opacity: 0;
    transition: opacity 0.3s ease-in-out; /* Smooth fade effect */
}

/* Show notification */
#notification.show {
    opacity: 1;
}

/* Cart Icon moved slightly */
.cart.moved {
    transform: translateX(10px); /* Move cart icon 10px to the right */
}
        /* Style for positioning flash messages */

        
        .flashmessage {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 9999;
            max-width: 400px;
        }
    
        .messages-container {
            margin: 0;
            padding: 0;
        }
    
        .alert {
            margin-bottom: 10px;
            transition: opacity 0.5s ease-out;
        }
    
        .alert.fade {
            opacity: 0;
        }
    
        /* Optional: Success and Error message custom styles */
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }
    
        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
        }

        .navbar {
  background-color: white;  
  justify-content: space-between;
  position: fixed; /* Fixed position */
  top: 0; /* Stay at the top */
  left: 0;
  right: 0; /* Full width */
  z-index: 1000; /* Make sure it stays above other content */
  margin-top: 0;
}
        
    </style>
    
   <!-- Section below the navbar -->
<section class="equipment-section">
    <h2>
        <span class="checkmark">&#10003;</span> Available Equipment
    </h2>
    <div class="equipment-container">
        <!-- Clicking these cards will scroll to the respective sections -->
        <div class="equipment-card" onclick="location.href='#electronics-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/printer.jpg') }}" alt="Printer" />
            <p>Electronics</p>
        </div>
        <div class="equipment-card" onclick="location.href='#phones-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/comp.jpg') }}" alt="Computer" />
            <p>Phones</p>
        </div>
     
        <div class="equipment-card" onclick="location.href='#households-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/photocopier.jpg') }}" alt="Photocopier" />
            <p>Households</p>
        </div>
        <div class="equipment-card" onclick="location.href='#furniture-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/printer.jpg') }}" alt="Sofa" />
            <p>Furniture</p>
        </div>
        <div class="equipment-card" onclick="location.href='#clothing-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/printer.jpg') }}" alt="Clothing" />
            <p>Clothing</p>
        </div>
        <div class="equipment-card" onclick="location.href='#accessories-section';">
            <img src="{{ url_for('static', filename='SPAPHOTOS/printer.jpg') }}" alt="Accessories" />
            <p>Tools & Accessories</p>
        </div>
    </div>
</section>

<div class="main-content-container">
    <div class="main-content">
      <!-- Electronics Section -->
      <section id="electronics-section">
          <h3>Electronics</h3>
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left"></i>
              <div class="product-container" id="root"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right"></i>
          </div>
      </section>
  
      <!-- Households Section -->
      <section id="households-section">
          <h3>Households</h3>
         
  
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left-households"></i>
              <div class="additional-product-container" id="another-product-section"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right-households"></i>
          </div>
      </section>
  
      <!-- Furniture Section -->
      <section id="furniture-section">
          <h3>Furniture</h3>
          
  
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left-furniture"></i>
              <div class="furniture-container" id="furniture-product-section"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right-furniture"></i>
          </div>
      </section>
  
      <!-- Clothing Section -->
      <section id="clothing-section">
          <h3>Clothing</h3>
          
  
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left-clothing"></i>
              <div class="clothing-container" id="clothing-product-section"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right-clothing"></i>
          </div>
      </section>
  
      <!-- Phones Section -->
      <section id="phones-section">
          <h3>Phones</h3>
         
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left-phones"></i>
              <div class="phones-container" id="phones-product-section"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right-phones"></i>
          </div>
      </section>
  
      <!-- Accessories Section -->
      <section id="accessories-section">
          <h3>Accessories</h3>
        
          <div class="product-navigation">
              <i class="fa-solid fa-chevron-left scroll-arrow" id="scroll-left-accessories"></i>
              <div class="tools-container" id="accessories-product-section"></div>
              <i class="fa-solid fa-chevron-right scroll-arrow" id="scroll-right-accessories"></i>
          </div>
      </section>
    </div>
  </div>




  <footer>
    <div class="footer__top row" id="visit">
        <div class="footer__section footer__techxas col-md-4">
            <h5>techXas</h5>
            <p>Official shop, <br> technological products and solutions</p>

            <!-- Address Section with Address Icon (Clickable for Google Maps) -->
            <div class="footer__address">
                <a style="background-color: transparent; padding: 0; margin: 0;" href="https://www.google.com/maps/place/Waska+apartments/@-1.3080688,36.8909694,17z/data=!3m1!4b1!4m16!1m9!4m8!1m0!1m6!1m2!1s0x182f13c2f5cc9555:0x1aace8d58f652c4!2sMVRV%2BQCF,+Nairobi!2m2!1d36.8935393!2d-1.3080605!3m5!1s0x182f13c2f5cc9555:0x1aace8d58f652c4!8m2!3d-1.3080688!4d36.8935443!16s%2Fg%2F11q4fh_t9v?entry=ttu&g_ep=EgoyMDI0MTEwNi4wIKXMDSoASAFQAw%3D%3D" target="_blank">
                    <i style="color:white; padding: 25px; font-size: 16px;" class="fas fa-map-marker-alt"></i> <!-- Font Awesome Map Marker Icon -->
                    <p style="color: white;">Tassia, Thika Road, Waska Building</p>
                </a>
            </div>
        </div>

        <div class="footer__section footer__categories col-md-4">
            <h5>Categories</h5>
            <ul>
                <li>Printers</li>
                <li>Ink & Toners</li>
                <li>Stationery</li>
                <li>Computers</li>
                <li>Graphic Design Services</li>
                <li>Networking Solutions</li> <!-- New Item Added -->
                <li>Office Supplies</li> <!-- New Item Added -->
            </ul>
        </div>

        <div class="footer__section footer__contacts col-md-4">
            <h5>Contacts</h5>
            <p>Email: support@techxas.com</p>
            <p>Phone: (+254) 7 164 706 65</p>
            <p>Fax: (+254) 7 164 706 66</p> <!-- New Item Added -->
            <p>Working Hours: Mon - Fri, 9 AM - 6 PM</p> <!-- New Item Added -->
            
            <h5>About Us</h5>
            <p>techXas is a leading provider of technological products, offering top-quality solutions and support to businesses and individuals. We specialize in office equipment, IT hardware, and services.</p> <!-- New Content Added -->
        </div>
    </div>

    <div class="footer__copyright" style="background-color:white;padding: 5px; margin-top: 30px;">
        <h1 style="margin: 0; font-weight: bold; color: black; font-size: 0.9rem; position: relative; text-align: center;">
            &copy; 2024 <span style="font-size: 0.9rem;">t</span>ech<span style="font-size: 1.3rem; text-shadow: px 1px 1px rgba(0,0,0,0.2);">X</span>as. All rights reserved.
        </h1>
    </div>
</footer>



<script>
document.addEventListener("DOMContentLoaded", function() {
    const scrollAmount = 100; // Set scroll amount to 100

    // A helper function to add scroll listeners to each section
    function addScrollListeners(scrollLeftId, scrollRightId, containerId) {
        const scrollLeft = document.getElementById(scrollLeftId);
        const scrollRight = document.getElementById(scrollRightId);
        const container = document.getElementById(containerId);

        // Only add listeners if the elements exist
        if (scrollLeft && scrollRight && container) {
            scrollLeft.addEventListener('click', () => {
                container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            });

            scrollRight.addEventListener('click', () => {
                container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            });
        }
    }

    // Add scroll listeners for each section using the helper function
    addScrollListeners('scroll-left', 'scroll-right', 'root');
    addScrollListeners('scroll-left-additional', 'scroll-right-additional', 'another-product-section');
    addScrollListeners('scroll-left-furniture', 'scroll-right-furniture', 'furniture-product-section');
    addScrollListeners('scroll-left-clothing', 'scroll-right-clothing', 'clothing-product-section');
    addScrollListeners('scroll-left-phones', 'scroll-right-phones', 'phones-product-section');
    addScrollListeners('scroll-left-accessories', 'scroll-right-accessories', 'accessories-product-section');
});

</script>

<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginModalLabel">Login</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form method="POST" action="{{ url_for('auth.login') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-group">
              <label for="email">Email Address</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required />
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required />
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary">Login</button>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Sign Up Modal -->
  <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="signupModalLabel">Sign Up</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form method="POST" action="{{ url_for('auth.sign_up') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-group">
              <label for="email">Email Address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Enter email"
                required
              />
            </div>
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input
                type="text"
                class="form-control"
                id="firstName"
                name="firstName"
                placeholder="Enter first name"
                required
              />
            </div>
            <div class="form-group">
              <label for="password1">Password</label>
              <input
                type="password"
                class="form-control"
                id="password1"
                name="password1"
                placeholder="Enter password"
                required
              />
            </div>
            <div class="form-group">
              <label for="password2">Password (Confirm)</label>
              <input
                type="password"
                class="form-control"
                id="password2"
                name="password2"
                placeholder="Confirm password"
                required
              />
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

    <!-- Cart Modal -->
<!-- Modal for Cart -->
<div id="cartModal" class="modal">
    <!-- Overlay background -->
    
    <!-- Notification (centered in the modal) -->
   
    
    <!-- Modal Content -->
    <div class="modal-content">
        <div id="notification" class="notification hidden"></div>
        <!-- Close button -->
        <span class="close" onclick="toggleCartModal()">&times;</span>
        
        <!-- Cart Header -->
        <div class="head">
            <p>My Cart</p>
        </div>
        
        <!-- Cart Items (initially empty) -->
        <div id="cartItem">Your cart is empty</div>
        
        <!-- Cart Footer with Total and Phone Number Input -->
        <div class="footercart">
            <h3>Total</h3>
            <h2 id="total">Ksh 0.00</h2>
            <input type="text" id="phone" placeholder="Enter phone number" oninput="formatPhoneNumber(event)" />
            <button id="payButton" onclick="processPayment()">Pay</button>
        </div>
    </div>
</div>

    <script src="{{ url_for('static', filename='js/addtocart.js') }}"></script>
    <script>
        function toggleCartModal() {
            const modal = document.getElementById("cartModal");
            modal.style.display = modal.style.display === "block" ? "none" : "block";
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById("cartModal");
            if (event.target === modal) {
                modal.style.display = "none";
            }
        }

let lastScrollTop = 0;
const navbar = document.querySelector('.navbar');
let timeout; // Variable to hold the timeout ID

window.addEventListener('scroll', function() {
    let st = window.pageYOffset || document.documentElement.scrollTop;

    if (st > lastScrollTop) {
        // Scrolling down
        navbar.classList.add('hidden');
        
        // Clear any existing timeout to prevent multiple hide actions
        clearTimeout(timeout);

        // Set a timeout to remove the hidden class after 1 second
        timeout = setTimeout(() => {
            navbar.classList.remove('hidden'); // Reappear after 1 second
        }, 1000); // 1000 milliseconds = 1 second
    } else {
        // Scrolling up
        navbar.classList.remove('hidden'); // Immediately show the navbar
    }

    lastScrollTop = st <= 0 ? 0 : st; // For Mobile or negative scrolling
});
    
    


    </script>
</body>
</html>